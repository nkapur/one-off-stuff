{
  "version": 4,
  "terraform_version": "1.12.1",
  "serial": 107,
  "lineage": "0b9193f5-2a10-2698-4172-b9a58c721ab6",
  "outputs": {
    "api_gateway_url": {
      "value": "https://hzc75xqr3l.execute-api.us-west-2.amazonaws.com/v1",
      "type": "string"
    },
    "event_endpoints": {
      "value": {
        "orders": {
          "batch": "https://hzc75xqr3l.execute-api.us-west-2.amazonaws.com/v1/events/batch/orders",
          "single": "https://hzc75xqr3l.execute-api.us-west-2.amazonaws.com/v1/events/orders"
        },
        "payments": {
          "batch": "https://hzc75xqr3l.execute-api.us-west-2.amazonaws.com/v1/events/batch/payments",
          "single": "https://hzc75xqr3l.execute-api.us-west-2.amazonaws.com/v1/events/payments"
        },
        "user_activity": {
          "batch": "https://hzc75xqr3l.execute-api.us-west-2.amazonaws.com/v1/events/batch/user_activity",
          "single": "https://hzc75xqr3l.execute-api.us-west-2.amazonaws.com/v1/events/user_activity"
        }
      },
      "type": [
        "object",
        {
          "orders": [
            "object",
            {
              "batch": "string",
              "single": "string"
            }
          ],
          "payments": [
            "object",
            {
              "batch": "string",
              "single": "string"
            }
          ],
          "user_activity": [
            "object",
            {
              "batch": "string",
              "single": "string"
            }
          ]
        }
      ]
    },
    "order_stream": {
      "value": {
        "arn": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-orders-stream",
        "dlq_url": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-orders-dlq",
        "lambda": "dev-orders-processor",
        "name": "dev-orders-stream"
      },
      "type": [
        "object",
        {
          "arn": "string",
          "dlq_url": "string",
          "lambda": "string",
          "name": "string"
        }
      ]
    },
    "payment_stream": {
      "value": {
        "arn": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-payments-stream",
        "dlq_url": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-payments-dlq",
        "lambda": "dev-payments-processor",
        "name": "dev-payments-stream"
      },
      "type": [
        "object",
        {
          "arn": "string",
          "dlq_url": "string",
          "lambda": "string",
          "name": "string"
        }
      ]
    },
    "user_activity_stream": {
      "value": {
        "arn": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-user_activity-stream",
        "dlq_url": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-user_activity-dlq",
        "lambda": "dev-user_activity-processor",
        "name": "dev-user_activity-stream"
      },
      "type": [
        "object",
        {
          "arn": "string",
          "dlq_url": "string",
          "lambda": "string",
          "name": "string"
        }
      ]
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "396724649279",
            "arn": "arn:aws:iam::396724649279:user/navneet_laptop",
            "id": "396724649279",
            "user_id": "AIDAVYXVBXU7UWSCETTXR"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "396724649279",
            "arn": "arn:aws:iam::396724649279:user/navneet_laptop",
            "id": "396724649279",
            "user_id": "AIDAVYXVBXU7UWSCETTXR"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US West (Oregon)",
            "endpoint": "ec2.us-west-2.amazonaws.com",
            "id": "us-west-2",
            "name": "us-west-2",
            "region": "us-west-2"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_account",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_key_version": "3",
            "cloudwatch_role_arn": "arn:aws:iam::396724649279:role/dev-events-ingestion-apigw-cloudwatch-role",
            "features": [],
            "id": "396724649279",
            "region": "us-west-2",
            "throttle_settings": [
              {
                "burst_limit": 5000,
                "rate_limit": 10000
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "module.api_gateway.aws_iam_role.api_gateway_cloudwatch"
          ]
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_deployment",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_date": "2025-12-25T00:53:55Z",
            "description": "",
            "id": "jzevxs",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l",
            "triggers": {
              "redeployment": "56cb6914891774f8b9191e9f98fcba1ad07153b08d69d3de481add707ee1a313"
            },
            "variables": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.kinesis_put",
            "module.api_gateway.aws_api_gateway_integration.kinesis_put_records",
            "module.api_gateway.aws_api_gateway_integration.options",
            "module.api_gateway.aws_api_gateway_integration_response.batch_success",
            "module.api_gateway.aws_api_gateway_integration_response.options",
            "module.api_gateway.aws_api_gateway_integration_response.success",
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_method_response.batch_success",
            "module.api_gateway.aws_api_gateway_method_response.options",
            "module.api_gateway.aws_api_gateway_method_response.success",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_integration",
      "name": "kinesis_put",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "cache_key_parameters": null,
            "cache_namespace": "o63ocm",
            "connection_id": "",
            "connection_type": "INTERNET",
            "content_handling": "",
            "credentials": "arn:aws:iam::396724649279:role/dev-events-ingestion-apigw-kinesis-role",
            "http_method": "POST",
            "id": "agi-hzc75xqr3l-o63ocm-POST",
            "integration_http_method": "POST",
            "integration_target": "",
            "passthrough_behavior": "WHEN_NO_TEMPLATES",
            "region": "us-west-2",
            "request_parameters": null,
            "request_templates": {
              "application/json": "{\n  \"StreamName\": \"dev-orders-stream\",\n  \"Data\": \"$util.base64Encode($input.body)\",\n  \"PartitionKey\": \"$context.requestId\"\n}\n"
            },
            "resource_id": "o63ocm",
            "response_transfer_mode": "BUFFERED",
            "rest_api_id": "hzc75xqr3l",
            "timeout_milliseconds": 29000,
            "tls_config": [],
            "type": "AWS",
            "uri": "arn:aws:apigateway:us-west-2:kinesis:action/PutRecord"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "cache_key_parameters": null,
            "cache_namespace": "ri4fnu",
            "connection_id": "",
            "connection_type": "INTERNET",
            "content_handling": "",
            "credentials": "arn:aws:iam::396724649279:role/dev-events-ingestion-apigw-kinesis-role",
            "http_method": "POST",
            "id": "agi-hzc75xqr3l-ri4fnu-POST",
            "integration_http_method": "POST",
            "integration_target": "",
            "passthrough_behavior": "WHEN_NO_TEMPLATES",
            "region": "us-west-2",
            "request_parameters": null,
            "request_templates": {
              "application/json": "{\n  \"StreamName\": \"dev-payments-stream\",\n  \"Data\": \"$util.base64Encode($input.body)\",\n  \"PartitionKey\": \"$context.requestId\"\n}\n"
            },
            "resource_id": "ri4fnu",
            "response_transfer_mode": "BUFFERED",
            "rest_api_id": "hzc75xqr3l",
            "timeout_milliseconds": 29000,
            "tls_config": [],
            "type": "AWS",
            "uri": "arn:aws:apigateway:us-west-2:kinesis:action/PutRecord"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "cache_key_parameters": null,
            "cache_namespace": "6u5l4q",
            "connection_id": "",
            "connection_type": "INTERNET",
            "content_handling": "",
            "credentials": "arn:aws:iam::396724649279:role/dev-events-ingestion-apigw-kinesis-role",
            "http_method": "POST",
            "id": "agi-hzc75xqr3l-6u5l4q-POST",
            "integration_http_method": "POST",
            "integration_target": "",
            "passthrough_behavior": "WHEN_NO_TEMPLATES",
            "region": "us-west-2",
            "request_parameters": null,
            "request_templates": {
              "application/json": "{\n  \"StreamName\": \"dev-user_activity-stream\",\n  \"Data\": \"$util.base64Encode($input.body)\",\n  \"PartitionKey\": \"$context.requestId\"\n}\n"
            },
            "resource_id": "6u5l4q",
            "response_transfer_mode": "BUFFERED",
            "rest_api_id": "hzc75xqr3l",
            "timeout_milliseconds": 29000,
            "tls_config": [],
            "type": "AWS",
            "uri": "arn:aws:apigateway:us-west-2:kinesis:action/PutRecord"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_integration",
      "name": "kinesis_put_records",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "cache_key_parameters": null,
            "cache_namespace": "qffm7f",
            "connection_id": "",
            "connection_type": "INTERNET",
            "content_handling": "",
            "credentials": "arn:aws:iam::396724649279:role/dev-events-ingestion-apigw-kinesis-role",
            "http_method": "POST",
            "id": "agi-hzc75xqr3l-qffm7f-POST",
            "integration_http_method": "POST",
            "integration_target": "",
            "passthrough_behavior": "WHEN_NO_TEMPLATES",
            "region": "us-west-2",
            "request_parameters": null,
            "request_templates": {
              "application/json": "#set($inputRoot = $input.path('$'))\n{\n  \"StreamName\": \"dev-orders-stream\",\n  \"Records\": [\n    #foreach($record in $inputRoot.records)\n    {\n      \"Data\": \"$util.base64Encode($record.data)\",\n      \"PartitionKey\": \"$record.partitionKey\"\n    }#if($foreach.hasNext),#end\n    #end\n  ]\n}\n"
            },
            "resource_id": "qffm7f",
            "response_transfer_mode": "BUFFERED",
            "rest_api_id": "hzc75xqr3l",
            "timeout_milliseconds": 29000,
            "tls_config": [],
            "type": "AWS",
            "uri": "arn:aws:apigateway:us-west-2:kinesis:action/PutRecords"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "cache_key_parameters": null,
            "cache_namespace": "zlbwsf",
            "connection_id": "",
            "connection_type": "INTERNET",
            "content_handling": "",
            "credentials": "arn:aws:iam::396724649279:role/dev-events-ingestion-apigw-kinesis-role",
            "http_method": "POST",
            "id": "agi-hzc75xqr3l-zlbwsf-POST",
            "integration_http_method": "POST",
            "integration_target": "",
            "passthrough_behavior": "WHEN_NO_TEMPLATES",
            "region": "us-west-2",
            "request_parameters": null,
            "request_templates": {
              "application/json": "#set($inputRoot = $input.path('$'))\n{\n  \"StreamName\": \"dev-payments-stream\",\n  \"Records\": [\n    #foreach($record in $inputRoot.records)\n    {\n      \"Data\": \"$util.base64Encode($record.data)\",\n      \"PartitionKey\": \"$record.partitionKey\"\n    }#if($foreach.hasNext),#end\n    #end\n  ]\n}\n"
            },
            "resource_id": "zlbwsf",
            "response_transfer_mode": "BUFFERED",
            "rest_api_id": "hzc75xqr3l",
            "timeout_milliseconds": 29000,
            "tls_config": [],
            "type": "AWS",
            "uri": "arn:aws:apigateway:us-west-2:kinesis:action/PutRecords"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "cache_key_parameters": null,
            "cache_namespace": "8gy78e",
            "connection_id": "",
            "connection_type": "INTERNET",
            "content_handling": "",
            "credentials": "arn:aws:iam::396724649279:role/dev-events-ingestion-apigw-kinesis-role",
            "http_method": "POST",
            "id": "agi-hzc75xqr3l-8gy78e-POST",
            "integration_http_method": "POST",
            "integration_target": "",
            "passthrough_behavior": "WHEN_NO_TEMPLATES",
            "region": "us-west-2",
            "request_parameters": null,
            "request_templates": {
              "application/json": "#set($inputRoot = $input.path('$'))\n{\n  \"StreamName\": \"dev-user_activity-stream\",\n  \"Records\": [\n    #foreach($record in $inputRoot.records)\n    {\n      \"Data\": \"$util.base64Encode($record.data)\",\n      \"PartitionKey\": \"$record.partitionKey\"\n    }#if($foreach.hasNext),#end\n    #end\n  ]\n}\n"
            },
            "resource_id": "8gy78e",
            "response_transfer_mode": "BUFFERED",
            "rest_api_id": "hzc75xqr3l",
            "timeout_milliseconds": 29000,
            "tls_config": [],
            "type": "AWS",
            "uri": "arn:aws:apigateway:us-west-2:kinesis:action/PutRecords"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_integration",
      "name": "options",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "cache_key_parameters": null,
            "cache_namespace": "o63ocm",
            "connection_id": "",
            "connection_type": "INTERNET",
            "content_handling": "",
            "credentials": "",
            "http_method": "OPTIONS",
            "id": "agi-hzc75xqr3l-o63ocm-OPTIONS",
            "integration_http_method": "",
            "integration_target": "",
            "passthrough_behavior": "WHEN_NO_MATCH",
            "region": "us-west-2",
            "request_parameters": null,
            "request_templates": {
              "application/json": "{\"statusCode\": 200}"
            },
            "resource_id": "o63ocm",
            "response_transfer_mode": "BUFFERED",
            "rest_api_id": "hzc75xqr3l",
            "timeout_milliseconds": 29000,
            "tls_config": [],
            "type": "MOCK",
            "uri": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "cache_key_parameters": null,
            "cache_namespace": "ri4fnu",
            "connection_id": "",
            "connection_type": "INTERNET",
            "content_handling": "",
            "credentials": "",
            "http_method": "OPTIONS",
            "id": "agi-hzc75xqr3l-ri4fnu-OPTIONS",
            "integration_http_method": "",
            "integration_target": "",
            "passthrough_behavior": "WHEN_NO_MATCH",
            "region": "us-west-2",
            "request_parameters": null,
            "request_templates": {
              "application/json": "{\"statusCode\": 200}"
            },
            "resource_id": "ri4fnu",
            "response_transfer_mode": "BUFFERED",
            "rest_api_id": "hzc75xqr3l",
            "timeout_milliseconds": 29000,
            "tls_config": [],
            "type": "MOCK",
            "uri": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "cache_key_parameters": null,
            "cache_namespace": "6u5l4q",
            "connection_id": "",
            "connection_type": "INTERNET",
            "content_handling": "",
            "credentials": "",
            "http_method": "OPTIONS",
            "id": "agi-hzc75xqr3l-6u5l4q-OPTIONS",
            "integration_http_method": "",
            "integration_target": "",
            "passthrough_behavior": "WHEN_NO_MATCH",
            "region": "us-west-2",
            "request_parameters": null,
            "request_templates": {
              "application/json": "{\"statusCode\": 200}"
            },
            "resource_id": "6u5l4q",
            "response_transfer_mode": "BUFFERED",
            "rest_api_id": "hzc75xqr3l",
            "timeout_milliseconds": 29000,
            "tls_config": [],
            "type": "MOCK",
            "uri": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_integration_response",
      "name": "batch_success",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "POST",
            "id": "agir-hzc75xqr3l-qffm7f-POST-200",
            "region": "us-west-2",
            "resource_id": "qffm7f",
            "response_parameters": null,
            "response_templates": {
              "application/json": "{\n  \"status\": \"accepted\",\n  \"eventType\": \"orders\",\n  \"failedRecordCount\": $input.json('$.FailedRecordCount'),\n  \"records\": $input.json('$.Records')\n}\n"
            },
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.kinesis_put_records",
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_method_response.batch_success",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "POST",
            "id": "agir-hzc75xqr3l-zlbwsf-POST-200",
            "region": "us-west-2",
            "resource_id": "zlbwsf",
            "response_parameters": null,
            "response_templates": {
              "application/json": "{\n  \"status\": \"accepted\",\n  \"eventType\": \"payments\",\n  \"failedRecordCount\": $input.json('$.FailedRecordCount'),\n  \"records\": $input.json('$.Records')\n}\n"
            },
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.kinesis_put_records",
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_method_response.batch_success",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "POST",
            "id": "agir-hzc75xqr3l-8gy78e-POST-200",
            "region": "us-west-2",
            "resource_id": "8gy78e",
            "response_parameters": null,
            "response_templates": {
              "application/json": "{\n  \"status\": \"accepted\",\n  \"eventType\": \"user_activity\",\n  \"failedRecordCount\": $input.json('$.FailedRecordCount'),\n  \"records\": $input.json('$.Records')\n}\n"
            },
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.kinesis_put_records",
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_method_response.batch_success",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_integration_response",
      "name": "error",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "POST",
            "id": "agir-hzc75xqr3l-o63ocm-POST-500",
            "region": "us-west-2",
            "resource_id": "o63ocm",
            "response_parameters": null,
            "response_templates": {
              "application/json": "{\n  \"error\": \"Failed to ingest event\",\n  \"eventType\": \"orders\"\n}\n"
            },
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "5\\d{2}",
            "status_code": "500"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.kinesis_put",
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_method_response.error",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "POST",
            "id": "agir-hzc75xqr3l-ri4fnu-POST-500",
            "region": "us-west-2",
            "resource_id": "ri4fnu",
            "response_parameters": null,
            "response_templates": {
              "application/json": "{\n  \"error\": \"Failed to ingest event\",\n  \"eventType\": \"payments\"\n}\n"
            },
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "5\\d{2}",
            "status_code": "500"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.kinesis_put",
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_method_response.error",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "POST",
            "id": "agir-hzc75xqr3l-6u5l4q-POST-500",
            "region": "us-west-2",
            "resource_id": "6u5l4q",
            "response_parameters": null,
            "response_templates": {
              "application/json": "{\n  \"error\": \"Failed to ingest event\",\n  \"eventType\": \"user_activity\"\n}\n"
            },
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "5\\d{2}",
            "status_code": "500"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.kinesis_put",
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_method_response.error",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_integration_response",
      "name": "options",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "OPTIONS",
            "id": "agir-hzc75xqr3l-o63ocm-OPTIONS-200",
            "region": "us-west-2",
            "resource_id": "o63ocm",
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'",
              "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'",
              "method.response.header.Access-Control-Allow-Origin": "'*'"
            },
            "response_templates": null,
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.options",
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_method_response.options",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "OPTIONS",
            "id": "agir-hzc75xqr3l-ri4fnu-OPTIONS-200",
            "region": "us-west-2",
            "resource_id": "ri4fnu",
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'",
              "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'",
              "method.response.header.Access-Control-Allow-Origin": "'*'"
            },
            "response_templates": null,
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.options",
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_method_response.options",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "OPTIONS",
            "id": "agir-hzc75xqr3l-6u5l4q-OPTIONS-200",
            "region": "us-west-2",
            "resource_id": "6u5l4q",
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'",
              "method.response.header.Access-Control-Allow-Methods": "'POST,OPTIONS'",
              "method.response.header.Access-Control-Allow-Origin": "'*'"
            },
            "response_templates": null,
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.options",
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_method_response.options",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_integration_response",
      "name": "success",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "POST",
            "id": "agir-hzc75xqr3l-o63ocm-POST-200",
            "region": "us-west-2",
            "resource_id": "o63ocm",
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Origin": "'*'"
            },
            "response_templates": {
              "application/json": "{\n  \"status\": \"accepted\",\n  \"eventType\": \"orders\",\n  \"sequenceNumber\": \"$input.json('$.SequenceNumber')\",\n  \"shardId\": \"$input.json('$.ShardId')\"\n}\n"
            },
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.kinesis_put",
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_method_response.success",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "POST",
            "id": "agir-hzc75xqr3l-ri4fnu-POST-200",
            "region": "us-west-2",
            "resource_id": "ri4fnu",
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Origin": "'*'"
            },
            "response_templates": {
              "application/json": "{\n  \"status\": \"accepted\",\n  \"eventType\": \"payments\",\n  \"sequenceNumber\": \"$input.json('$.SequenceNumber')\",\n  \"shardId\": \"$input.json('$.ShardId')\"\n}\n"
            },
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.kinesis_put",
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_method_response.success",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "content_handling": "",
            "http_method": "POST",
            "id": "agir-hzc75xqr3l-6u5l4q-POST-200",
            "region": "us-west-2",
            "resource_id": "6u5l4q",
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Origin": "'*'"
            },
            "response_templates": {
              "application/json": "{\n  \"status\": \"accepted\",\n  \"eventType\": \"user_activity\",\n  \"sequenceNumber\": \"$input.json('$.SequenceNumber')\",\n  \"shardId\": \"$input.json('$.ShardId')\"\n}\n"
            },
            "rest_api_id": "hzc75xqr3l",
            "selection_pattern": "",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_integration.kinesis_put",
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_method_response.success",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_method",
      "name": "batch_post",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "POST",
            "id": "agm-hzc75xqr3l-qffm7f-POST",
            "operation_name": null,
            "region": "us-west-2",
            "request_models": null,
            "request_parameters": null,
            "request_validator_id": null,
            "resource_id": "qffm7f",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "POST",
            "id": "agm-hzc75xqr3l-zlbwsf-POST",
            "operation_name": null,
            "region": "us-west-2",
            "request_models": null,
            "request_parameters": null,
            "request_validator_id": null,
            "resource_id": "zlbwsf",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "POST",
            "id": "agm-hzc75xqr3l-8gy78e-POST",
            "operation_name": null,
            "region": "us-west-2",
            "request_models": null,
            "request_parameters": null,
            "request_validator_id": null,
            "resource_id": "8gy78e",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_method",
      "name": "options",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "OPTIONS",
            "id": "agm-hzc75xqr3l-o63ocm-OPTIONS",
            "operation_name": null,
            "region": "us-west-2",
            "request_models": null,
            "request_parameters": null,
            "request_validator_id": null,
            "resource_id": "o63ocm",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "OPTIONS",
            "id": "agm-hzc75xqr3l-ri4fnu-OPTIONS",
            "operation_name": null,
            "region": "us-west-2",
            "request_models": null,
            "request_parameters": null,
            "request_validator_id": null,
            "resource_id": "ri4fnu",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "OPTIONS",
            "id": "agm-hzc75xqr3l-6u5l4q-OPTIONS",
            "operation_name": null,
            "region": "us-west-2",
            "request_models": null,
            "request_parameters": null,
            "request_validator_id": null,
            "resource_id": "6u5l4q",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_method",
      "name": "post_event",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "POST",
            "id": "agm-hzc75xqr3l-o63ocm-POST",
            "operation_name": null,
            "region": "us-west-2",
            "request_models": null,
            "request_parameters": {
              "method.request.header.Content-Type": true
            },
            "request_validator_id": null,
            "resource_id": "o63ocm",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "POST",
            "id": "agm-hzc75xqr3l-ri4fnu-POST",
            "operation_name": null,
            "region": "us-west-2",
            "request_models": null,
            "request_parameters": {
              "method.request.header.Content-Type": true
            },
            "request_validator_id": null,
            "resource_id": "ri4fnu",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "POST",
            "id": "agm-hzc75xqr3l-6u5l4q-POST",
            "operation_name": null,
            "region": "us-west-2",
            "request_models": null,
            "request_parameters": {
              "method.request.header.Content-Type": true
            },
            "request_validator_id": null,
            "resource_id": "6u5l4q",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_method_response",
      "name": "batch_success",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "http_method": "POST",
            "id": "agmr-hzc75xqr3l-qffm7f-POST-200",
            "region": "us-west-2",
            "resource_id": "qffm7f",
            "response_models": {
              "application/json": "Empty"
            },
            "response_parameters": null,
            "rest_api_id": "hzc75xqr3l",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "http_method": "POST",
            "id": "agmr-hzc75xqr3l-zlbwsf-POST-200",
            "region": "us-west-2",
            "resource_id": "zlbwsf",
            "response_models": {
              "application/json": "Empty"
            },
            "response_parameters": null,
            "rest_api_id": "hzc75xqr3l",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "http_method": "POST",
            "id": "agmr-hzc75xqr3l-8gy78e-POST-200",
            "region": "us-west-2",
            "resource_id": "8gy78e",
            "response_models": {
              "application/json": "Empty"
            },
            "response_parameters": null,
            "rest_api_id": "hzc75xqr3l",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_method_response",
      "name": "error",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "http_method": "POST",
            "id": "agmr-hzc75xqr3l-o63ocm-POST-500",
            "region": "us-west-2",
            "resource_id": "o63ocm",
            "response_models": {
              "application/json": "Error"
            },
            "response_parameters": null,
            "rest_api_id": "hzc75xqr3l",
            "status_code": "500"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "http_method": "POST",
            "id": "agmr-hzc75xqr3l-ri4fnu-POST-500",
            "region": "us-west-2",
            "resource_id": "ri4fnu",
            "response_models": {
              "application/json": "Error"
            },
            "response_parameters": null,
            "rest_api_id": "hzc75xqr3l",
            "status_code": "500"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "http_method": "POST",
            "id": "agmr-hzc75xqr3l-6u5l4q-POST-500",
            "region": "us-west-2",
            "resource_id": "6u5l4q",
            "response_models": {
              "application/json": "Error"
            },
            "response_parameters": null,
            "rest_api_id": "hzc75xqr3l",
            "status_code": "500"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_method_response",
      "name": "options",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "http_method": "OPTIONS",
            "id": "agmr-hzc75xqr3l-o63ocm-OPTIONS-200",
            "region": "us-west-2",
            "resource_id": "o63ocm",
            "response_models": {
              "application/json": "Empty"
            },
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "rest_api_id": "hzc75xqr3l",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "http_method": "OPTIONS",
            "id": "agmr-hzc75xqr3l-ri4fnu-OPTIONS-200",
            "region": "us-west-2",
            "resource_id": "ri4fnu",
            "response_models": {
              "application/json": "Empty"
            },
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "rest_api_id": "hzc75xqr3l",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "http_method": "OPTIONS",
            "id": "agmr-hzc75xqr3l-6u5l4q-OPTIONS-200",
            "region": "us-west-2",
            "resource_id": "6u5l4q",
            "response_models": {
              "application/json": "Empty"
            },
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "rest_api_id": "hzc75xqr3l",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_method_response",
      "name": "success",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "http_method": "POST",
            "id": "agmr-hzc75xqr3l-o63ocm-POST-200",
            "region": "us-west-2",
            "resource_id": "o63ocm",
            "response_models": {
              "application/json": "Empty"
            },
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "rest_api_id": "hzc75xqr3l",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "http_method": "POST",
            "id": "agmr-hzc75xqr3l-ri4fnu-POST-200",
            "region": "us-west-2",
            "resource_id": "ri4fnu",
            "response_models": {
              "application/json": "Empty"
            },
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "rest_api_id": "hzc75xqr3l",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "http_method": "POST",
            "id": "agmr-hzc75xqr3l-6u5l4q-POST-200",
            "region": "us-west-2",
            "resource_id": "6u5l4q",
            "response_models": {
              "application/json": "Empty"
            },
            "response_parameters": {
              "method.response.header.Access-Control-Allow-Origin": true
            },
            "rest_api_id": "hzc75xqr3l",
            "status_code": "200"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_method_settings",
      "name": "all",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "hzc75xqr3l-v1-*/*",
            "method_path": "*/*",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l",
            "settings": [
              {
                "cache_data_encrypted": false,
                "cache_ttl_in_seconds": 300,
                "caching_enabled": false,
                "data_trace_enabled": false,
                "logging_level": "INFO",
                "metrics_enabled": true,
                "require_authorization_for_cache_control": true,
                "throttling_burst_limit": 5000,
                "throttling_rate_limit": 10000,
                "unauthorized_cache_control_header_strategy": "SUCCEED_WITH_RESPONSE_HEADER"
              }
            ],
            "stage_name": "v1"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_deployment.main",
            "module.api_gateway.aws_api_gateway_integration.kinesis_put",
            "module.api_gateway.aws_api_gateway_integration.kinesis_put_records",
            "module.api_gateway.aws_api_gateway_integration.options",
            "module.api_gateway.aws_api_gateway_integration_response.batch_success",
            "module.api_gateway.aws_api_gateway_integration_response.options",
            "module.api_gateway.aws_api_gateway_integration_response.success",
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_method_response.batch_success",
            "module.api_gateway.aws_api_gateway_method_response.options",
            "module.api_gateway.aws_api_gateway_method_response.success",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_api_gateway_stage.main",
            "module.api_gateway.aws_cloudwatch_log_group.access_logs",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_resource",
      "name": "batch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "apqnl8",
            "parent_id": "l2hv2b",
            "path": "/events/batch",
            "path_part": "batch",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_resource",
      "name": "batch_event_type",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "id": "qffm7f",
            "parent_id": "apqnl8",
            "path": "/events/batch/orders",
            "path_part": "orders",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "id": "zlbwsf",
            "parent_id": "apqnl8",
            "path": "/events/batch/payments",
            "path_part": "payments",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "id": "8gy78e",
            "parent_id": "apqnl8",
            "path": "/events/batch/user_activity",
            "path_part": "user_activity",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_resource",
      "name": "event_type",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "orders",
          "schema_version": 0,
          "attributes": {
            "id": "o63ocm",
            "parent_id": "l2hv2b",
            "path": "/events/orders",
            "path_part": "orders",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "payments",
          "schema_version": 0,
          "attributes": {
            "id": "ri4fnu",
            "parent_id": "l2hv2b",
            "path": "/events/payments",
            "path_part": "payments",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        },
        {
          "index_key": "user_activity",
          "schema_version": 0,
          "attributes": {
            "id": "6u5l4q",
            "parent_id": "l2hv2b",
            "path": "/events/user_activity",
            "path_part": "user_activity",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_resource",
      "name": "events",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "l2hv2b",
            "parent_id": "4wn01611r5",
            "path": "/events",
            "path_part": "events",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_rest_api.events"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_rest_api",
      "name": "events",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_key_source": "HEADER",
            "arn": "arn:aws:apigateway:us-west-2::/restapis/hzc75xqr3l",
            "binary_media_types": [],
            "body": null,
            "created_date": "2025-12-25T00:53:03Z",
            "description": "Unified API Gateway for all event ingestion",
            "disable_execute_api_endpoint": false,
            "endpoint_configuration": [
              {
                "ip_address_type": "ipv4",
                "types": [
                  "REGIONAL"
                ],
                "vpc_endpoint_ids": []
              }
            ],
            "execution_arn": "arn:aws:execute-api:us-west-2:396724649279:hzc75xqr3l",
            "fail_on_warnings": null,
            "id": "hzc75xqr3l",
            "minimum_compression_size": "",
            "name": "dev-events-ingestion",
            "parameters": null,
            "policy": "",
            "put_rest_api_mode": null,
            "region": "us-west-2",
            "root_resource_id": "4wn01611r5",
            "tags": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway"
            },
            "tags_all": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_api_gateway_stage",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_log_settings": [
              {
                "destination_arn": "arn:aws:logs:us-west-2:396724649279:log-group:/aws/apigateway/dev-events-ingestion/access-logs",
                "format": "{\"caller\":\"$context.identity.caller\",\"httpMethod\":\"$context.httpMethod\",\"integrationLatency\":\"$context.integrationLatency\",\"integrationStatus\":\"$context.integrationStatus\",\"ip\":\"$context.identity.sourceIp\",\"protocol\":\"$context.protocol\",\"requestId\":\"$context.requestId\",\"requestTime\":\"$context.requestTime\",\"resourcePath\":\"$context.resourcePath\",\"responseLength\":\"$context.responseLength\",\"status\":\"$context.status\",\"user\":\"$context.identity.user\"}"
              }
            ],
            "arn": "arn:aws:apigateway:us-west-2::/restapis/hzc75xqr3l/stages/v1",
            "cache_cluster_enabled": false,
            "cache_cluster_size": "",
            "canary_settings": [],
            "client_certificate_id": "",
            "deployment_id": "jzevxs",
            "description": "",
            "documentation_version": "",
            "execution_arn": "arn:aws:execute-api:us-west-2:396724649279:hzc75xqr3l/v1",
            "id": "ags-hzc75xqr3l-v1",
            "invoke_url": "https://hzc75xqr3l.execute-api.us-west-2.amazonaws.com/v1",
            "region": "us-west-2",
            "rest_api_id": "hzc75xqr3l",
            "stage_name": "v1",
            "tags": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway"
            },
            "tags_all": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway",
              "Project": "kinesis-event-ingestion"
            },
            "variables": null,
            "web_acl_arn": "",
            "xray_tracing_enabled": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_api_gateway_deployment.main",
            "module.api_gateway.aws_api_gateway_integration.kinesis_put",
            "module.api_gateway.aws_api_gateway_integration.kinesis_put_records",
            "module.api_gateway.aws_api_gateway_integration.options",
            "module.api_gateway.aws_api_gateway_integration_response.batch_success",
            "module.api_gateway.aws_api_gateway_integration_response.options",
            "module.api_gateway.aws_api_gateway_integration_response.success",
            "module.api_gateway.aws_api_gateway_method.batch_post",
            "module.api_gateway.aws_api_gateway_method.options",
            "module.api_gateway.aws_api_gateway_method.post_event",
            "module.api_gateway.aws_api_gateway_method_response.batch_success",
            "module.api_gateway.aws_api_gateway_method_response.options",
            "module.api_gateway.aws_api_gateway_method_response.success",
            "module.api_gateway.aws_api_gateway_resource.batch",
            "module.api_gateway.aws_api_gateway_resource.batch_event_type",
            "module.api_gateway.aws_api_gateway_resource.event_type",
            "module.api_gateway.aws_api_gateway_resource.events",
            "module.api_gateway.aws_api_gateway_rest_api.events",
            "module.api_gateway.aws_cloudwatch_log_group.access_logs",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.api_gateway.data.aws_region.current",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "access_logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-west-2:396724649279:log-group:/aws/apigateway/dev-events-ingestion/access-logs",
            "deletion_protection_enabled": false,
            "id": "/aws/apigateway/dev-events-ingestion/access-logs",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "/aws/apigateway/dev-events-ingestion/access-logs",
            "name_prefix": "",
            "region": "us-west-2",
            "retention_in_days": 14,
            "skip_destroy": false,
            "tags": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway"
            },
            "tags_all": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "/aws/apigateway/dev-events-ingestion/access-logs",
            "region": "us-west-2"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "kinesis_put",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:policy/dev-events-ingestion-kinesis-put",
            "attachment_count": 0,
            "description": "Allow API Gateway to put records to Kinesis streams",
            "id": "arn:aws:iam::396724649279:policy/dev-events-ingestion-kinesis-put",
            "name": "dev-events-ingestion-kinesis-put",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"kinesis:PutRecord\",\"kinesis:PutRecords\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kinesis:us-west-2:396724649279:stream/dev-orders-stream\"},{\"Action\":[\"kinesis:PutRecord\",\"kinesis:PutRecords\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kinesis:us-west-2:396724649279:stream/dev-payments-stream\"},{\"Action\":[\"kinesis:PutRecord\",\"kinesis:PutRecords\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kinesis:us-west-2:396724649279:stream/dev-user_activity-stream\"},{\"Action\":[\"kms:Encrypt\",\"kms:GenerateDataKey\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kms:us-west-2:396724649279:key/9d86271c-0906-4464-a591-f0a86efada5a\"},{\"Action\":[\"kms:Encrypt\",\"kms:GenerateDataKey\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kms:us-west-2:396724649279:key/0ec884b5-b42e-48d3-a8af-d2b1cc25237d\"},{\"Action\":[\"kms:Encrypt\",\"kms:GenerateDataKey\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kms:us-west-2:396724649279:key/f39b1977-7d2e-4728-b0f1-59c99e9b4a1f\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVYXVBXU7XXETCODBJ",
            "tags": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway"
            },
            "tags_all": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::396724649279:policy/dev-events-ingestion-kinesis-put"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "api_gateway_cloudwatch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:role/dev-events-ingestion-apigw-cloudwatch-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-12-25T00:53:03Z",
            "description": "",
            "force_detach_policies": false,
            "id": "dev-events-ingestion-apigw-cloudwatch-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "dev-events-ingestion-apigw-cloudwatch-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway"
            },
            "tags_all": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway",
              "Project": "kinesis-event-ingestion"
            },
            "unique_id": "AROAVYXVBXU7U6LK2C4DD"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "dev-events-ingestion-apigw-cloudwatch-role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "api_gateway_kinesis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:role/dev-events-ingestion-apigw-kinesis-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-12-25T00:53:03Z",
            "description": "",
            "force_detach_policies": false,
            "id": "dev-events-ingestion-apigw-kinesis-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "dev-events-ingestion-apigw-kinesis-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway"
            },
            "tags_all": {
              "Component": "ingestion-gateway",
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Module": "api_gateway",
              "Project": "kinesis-event-ingestion"
            },
            "unique_id": "AROAVYXVBXU7YLBN2S6J7"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "dev-events-ingestion-apigw-kinesis-role"
          },
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "api_gateway_cloudwatch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "dev-events-ingestion-apigw-cloudwatch-role/arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs",
            "role": "dev-events-ingestion-apigw-cloudwatch-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs",
            "role": "dev-events-ingestion-apigw-cloudwatch-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_iam_role.api_gateway_cloudwatch"
          ]
        }
      ]
    },
    {
      "module": "module.api_gateway",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "api_gateway_kinesis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "dev-events-ingestion-apigw-kinesis-role/arn:aws:iam::396724649279:policy/dev-events-ingestion-kinesis-put",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-events-ingestion-kinesis-put",
            "role": "dev-events-ingestion-apigw-kinesis-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-events-ingestion-kinesis-put",
            "role": "dev-events-ingestion-apigw-kinesis-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.api_gateway.aws_iam_policy.kinesis_put",
            "module.api_gateway.aws_iam_role.api_gateway_kinesis",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "data",
      "type": "archive_file",
      "name": "lambda_package",
      "provider": "provider[\"registry.terraform.io/hashicorp/archive\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "exclude_symlink_directories": null,
            "excludes": null,
            "id": "45146fe7ecac5efcb4fffb06a6f634888c977ac3",
            "output_base64sha256": "tmDc0lEII0nf96bv3I1tA34bDltqDZlitlp758fp67U=",
            "output_base64sha512": "f+m9Y4hPyymL+w8b5yinSLRMGDzgOrDB/mwISlD+pab29ikDLcpcCuRTE8wQnFDFsP/DRE9EYI7WKUshTi+IIg==",
            "output_file_mode": null,
            "output_md5": "b747f722c9e5ae314068a12327fcfa51",
            "output_path": "modules/kinesis_event_flow/.terraform/tmp/dev-orders-lambda.zip",
            "output_sha": "45146fe7ecac5efcb4fffb06a6f634888c977ac3",
            "output_sha256": "b660dcd251082349dff7a6efdc8d6d037e1b0e5b6a0d9962b65a7be7c7e9ebb5",
            "output_sha512": "7fe9bd63884fcb298bfb0f1be728a748b44c183ce03ab0c1fe6c084a50fea5a6f6f629032dca5c0ae45313cc109c50c5b0ffc3444f44608ed6294b214e2f8822",
            "output_size": 1851,
            "source": [],
            "source_content": null,
            "source_content_filename": null,
            "source_dir": "./lambda/orders",
            "source_file": null,
            "type": "zip"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "lambda_logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-west-2:396724649279:log-group:/aws/lambda/dev-orders-processor",
            "deletion_protection_enabled": false,
            "id": "/aws/lambda/dev-orders-processor",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "/aws/lambda/dev-orders-processor",
            "name_prefix": "",
            "region": "us-west-2",
            "retention_in_days": 14,
            "skip_destroy": false,
            "tags": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "/aws/lambda/dev-orders-processor",
            "region": "us-west-2"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "iterator_age",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": null,
            "alarm_description": "Kinesis iterator age is too high - consumer is falling behind",
            "alarm_name": "dev-orders-iterator-age-high",
            "arn": "arn:aws:cloudwatch:us-west-2:396724649279:alarm:dev-orders-iterator-age-high",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "StreamName": "dev-orders-stream"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 2,
            "extended_statistic": "",
            "id": "dev-orders-iterator-age-high",
            "insufficient_data_actions": null,
            "metric_name": "GetRecords.IteratorAgeMilliseconds",
            "metric_query": [],
            "namespace": "AWS/Kinesis",
            "ok_actions": null,
            "period": 300,
            "region": "us-west-2",
            "statistic": "Maximum",
            "tags": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "threshold": 60000,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "alarm_name": "dev-orders-iterator-age-high",
            "region": "us-west-2"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "lambda_errors",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": null,
            "alarm_description": "Lambda function error rate is elevated",
            "alarm_name": "dev-orders-lambda-errors",
            "arn": "arn:aws:cloudwatch:us-west-2:396724649279:alarm:dev-orders-lambda-errors",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "FunctionName": "dev-orders-processor"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 1,
            "extended_statistic": "",
            "id": "dev-orders-lambda-errors",
            "insufficient_data_actions": null,
            "metric_name": "Errors",
            "metric_query": [],
            "namespace": "AWS/Lambda",
            "ok_actions": null,
            "period": 300,
            "region": "us-west-2",
            "statistic": "Sum",
            "tags": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "threshold": 5,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "alarm_name": "dev-orders-lambda-errors",
            "region": "us-west-2"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.order_events.aws_cloudwatch_log_group.lambda_logs",
            "module.order_events.aws_iam_policy.kinesis_access",
            "module.order_events.aws_iam_role.lambda_execution",
            "module.order_events.aws_iam_role_policy_attachment.lambda_basic_execution",
            "module.order_events.aws_iam_role_policy_attachment.lambda_kinesis_access",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.order_events.aws_lambda_function.processor",
            "module.order_events.aws_sqs_queue.dlq",
            "module.order_events.data.archive_file.lambda_package"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "dlq_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:policy/dev-orders-dlq-access",
            "attachment_count": 0,
            "description": "Allow Lambda to write to DLQ",
            "id": "arn:aws:iam::396724649279:policy/dev-orders-dlq-access",
            "name": "dev-orders-dlq-access",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:us-west-2:396724649279:dev-orders-dlq\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVYXVBXU75QZX5F2FS",
            "tags": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::396724649279:policy/dev-orders-dlq-access"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.order_events.aws_sqs_queue.dlq"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "kinesis_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:policy/dev-orders-kinesis-access",
            "attachment_count": 0,
            "description": "Allow Lambda to read from Kinesis stream",
            "id": "arn:aws:iam::396724649279:policy/dev-orders-kinesis-access",
            "name": "dev-orders-kinesis-access",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"kinesis:GetRecords\",\"kinesis:GetShardIterator\",\"kinesis:DescribeStream\",\"kinesis:DescribeStreamSummary\",\"kinesis:ListShards\",\"kinesis:ListStreams\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kinesis:us-west-2:396724649279:stream/dev-orders-stream\"},{\"Action\":[\"kms:Decrypt\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kms:us-west-2:396724649279:key/9d86271c-0906-4464-a591-f0a86efada5a\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVYXVBXU7VYVYKQHB5",
            "tags": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::396724649279:policy/dev-orders-kinesis-access"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:role/dev-orders-lambda-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-12-25T00:53:02Z",
            "description": "",
            "force_detach_policies": false,
            "id": "dev-orders-lambda-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "dev-orders-lambda-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "unique_id": "AROAVYXVBXU76QU67KIEO"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "dev-orders-lambda-role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_basic_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "dev-orders-lambda-role/arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "dev-orders-lambda-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "dev-orders-lambda-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.order_events.aws_iam_role.lambda_execution"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_dlq_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "dev-orders-lambda-role/arn:aws:iam::396724649279:policy/dev-orders-dlq-access",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-orders-dlq-access",
            "role": "dev-orders-lambda-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-orders-dlq-access",
            "role": "dev-orders-lambda-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.order_events.aws_iam_policy.dlq_access",
            "module.order_events.aws_iam_role.lambda_execution",
            "module.order_events.aws_sqs_queue.dlq"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_kinesis_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "dev-orders-lambda-role/arn:aws:iam::396724649279:policy/dev-orders-kinesis-access",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-orders-kinesis-access",
            "role": "dev-orders-lambda-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-orders-kinesis-access",
            "role": "dev-orders-lambda-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.order_events.aws_iam_policy.kinesis_access",
            "module.order_events.aws_iam_role.lambda_execution",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_kinesis_stream",
      "name": "events",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-orders-stream",
            "encryption_type": "KMS",
            "enforce_consumer_deletion": false,
            "id": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-orders-stream",
            "kms_key_id": "arn:aws:kms:us-west-2:396724649279:key/9d86271c-0906-4464-a591-f0a86efada5a",
            "max_record_size_in_kib": 1024,
            "name": "dev-orders-stream",
            "region": "us-west-2",
            "retention_period": 48,
            "shard_count": 2,
            "shard_level_metrics": null,
            "stream_mode_details": [
              {
                "stream_mode": "PROVISIONED"
              }
            ],
            "tags": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6NzIwMDAwMDAwMDAwMCwidXBkYXRlIjo3MjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.order_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "stream_encryption",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-west-2:396724649279:alias/dev-orders-kinesis",
            "id": "alias/dev-orders-kinesis",
            "name": "alias/dev-orders-kinesis",
            "name_prefix": "",
            "region": "us-west-2",
            "target_key_arn": "arn:aws:kms:us-west-2:396724649279:key/9d86271c-0906-4464-a591-f0a86efada5a",
            "target_key_id": "9d86271c-0906-4464-a591-f0a86efada5a"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "alias/dev-orders-kinesis",
            "region": "us-west-2"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.order_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "stream_encryption",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-west-2:396724649279:key/9d86271c-0906-4464-a591-f0a86efada5a",
            "bypass_policy_lockout_safety_check": false,
            "custom_key_store_id": "",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": 7,
            "description": "KMS key for dev-orders Kinesis stream encryption",
            "enable_key_rotation": true,
            "id": "9d86271c-0906-4464-a591-f0a86efada5a",
            "is_enabled": true,
            "key_id": "9d86271c-0906-4464-a591-f0a86efada5a",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "policy": "{\"Id\":\"key-default-1\",\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::396724649279:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"}],\"Version\":\"2012-10-17\"}",
            "region": "us-west-2",
            "rotation_period_in_days": 365,
            "tags": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "timeouts": null,
            "xks_key_id": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "id": "9d86271c-0906-4464-a591-f0a86efada5a",
            "region": "us-west-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDB9fQ==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_lambda_event_source_mapping",
      "name": "kinesis_trigger",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "amazon_managed_kafka_event_source_config": [],
            "arn": "arn:aws:lambda:us-west-2:396724649279:event-source-mapping:6d079a0a-b340-4f85-b081-4ff9161e4b43",
            "batch_size": 50,
            "bisect_batch_on_function_error": true,
            "destination_config": [
              {
                "on_failure": [
                  {
                    "destination_arn": "arn:aws:sqs:us-west-2:396724649279:dev-orders-dlq"
                  }
                ]
              }
            ],
            "document_db_event_source_config": [],
            "enabled": true,
            "event_source_arn": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-orders-stream",
            "filter_criteria": [],
            "function_arn": "arn:aws:lambda:us-west-2:396724649279:function:dev-orders-processor",
            "function_name": "arn:aws:lambda:us-west-2:396724649279:function:dev-orders-processor",
            "function_response_types": null,
            "id": "6d079a0a-b340-4f85-b081-4ff9161e4b43",
            "kms_key_arn": "",
            "last_modified": "2025-12-25T00:53:00Z",
            "last_processing_result": "No records processed",
            "maximum_batching_window_in_seconds": 3,
            "maximum_record_age_in_seconds": 7200,
            "maximum_retry_attempts": 5,
            "metrics_config": [],
            "parallelization_factor": 1,
            "provisioned_poller_config": [],
            "queues": null,
            "region": "us-west-2",
            "scaling_config": [],
            "self_managed_event_source": [],
            "self_managed_kafka_event_source_config": [],
            "source_access_configuration": [],
            "starting_position": "LATEST",
            "starting_position_timestamp": "",
            "state": "Enabled",
            "state_transition_reason": "User action",
            "tags": null,
            "tags_all": {
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Project": "kinesis-event-ingestion"
            },
            "topics": null,
            "tumbling_window_in_seconds": 0,
            "uuid": "6d079a0a-b340-4f85-b081-4ff9161e4b43"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.order_events.aws_cloudwatch_log_group.lambda_logs",
            "module.order_events.aws_iam_policy.kinesis_access",
            "module.order_events.aws_iam_role.lambda_execution",
            "module.order_events.aws_iam_role_policy_attachment.lambda_basic_execution",
            "module.order_events.aws_iam_role_policy_attachment.lambda_kinesis_access",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.order_events.aws_lambda_function.processor",
            "module.order_events.aws_sqs_queue.dlq",
            "module.order_events.data.archive_file.lambda_package"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "processor",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-west-2:396724649279:function:dev-orders-processor",
            "capacity_provider_config": [],
            "code_sha256": "tmDc0lEII0nf96bv3I1tA34bDltqDZlitlp758fp67U=",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "",
            "durable_config": [],
            "environment": [
              {
                "variables": {
                  "DLQ_URL": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-orders-dlq",
                  "ENABLE_ORDER_ALERTS": "true",
                  "ENVIRONMENT": "dev",
                  "EVENT_TYPE": "orders",
                  "LOG_LEVEL": "INFO",
                  "STREAM_NAME": "dev-orders-stream"
                }
              }
            ],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "modules/kinesis_event_flow/.terraform/tmp/dev-orders-lambda.zip",
            "function_name": "dev-orders-processor",
            "handler": "handler.process_event",
            "id": "dev-orders-processor",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:396724649279:function:dev-orders-processor/invocations",
            "kms_key_arn": "",
            "last_modified": "2025-12-25T00:53:50.183+0000",
            "layers": null,
            "logging_config": [
              {
                "application_log_level": "",
                "log_format": "Text",
                "log_group": "/aws/lambda/dev-orders-processor",
                "system_log_level": ""
              }
            ],
            "memory_size": 512,
            "package_type": "Zip",
            "publish": false,
            "publish_to": null,
            "qualified_arn": "arn:aws:lambda:us-west-2:396724649279:function:dev-orders-processor:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:396724649279:function:dev-orders-processor:$LATEST/invocations",
            "region": "us-west-2",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::396724649279:role/dev-orders-lambda-role",
            "runtime": "python3.11",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "skip_destroy": false,
            "snap_start": [],
            "source_code_hash": "tmDc0lEII0nf96bv3I1tA34bDltqDZlitlp758fp67U=",
            "source_code_size": 1851,
            "source_kms_key_arn": "",
            "tags": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "tenancy_config": [],
            "timeout": 60,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "function_name": "dev-orders-processor",
            "region": "us-west-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.order_events.aws_cloudwatch_log_group.lambda_logs",
            "module.order_events.aws_iam_policy.kinesis_access",
            "module.order_events.aws_iam_role.lambda_execution",
            "module.order_events.aws_iam_role_policy_attachment.lambda_basic_execution",
            "module.order_events.aws_iam_role_policy_attachment.lambda_kinesis_access",
            "module.order_events.aws_kinesis_stream.events",
            "module.order_events.aws_kms_key.stream_encryption",
            "module.order_events.aws_sqs_queue.dlq",
            "module.order_events.data.archive_file.lambda_package"
          ]
        }
      ]
    },
    {
      "module": "module.order_events",
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "dlq",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:sqs:us-west-2:396724649279:dev-orders-dlq",
            "content_based_deduplication": false,
            "deduplication_scope": "",
            "delay_seconds": 0,
            "fifo_queue": false,
            "fifo_throughput_limit": "",
            "id": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-orders-dlq",
            "kms_data_key_reuse_period_seconds": 300,
            "kms_master_key_id": "",
            "max_message_size": 262144,
            "message_retention_seconds": 1209600,
            "name": "dev-orders-dlq",
            "name_prefix": "",
            "policy": "",
            "receive_wait_time_seconds": 0,
            "redrive_allow_policy": "",
            "redrive_policy": "",
            "region": "us-west-2",
            "sqs_managed_sse_enabled": true,
            "tags": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "commerce",
              "EventType": "orders",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "timeouts": null,
            "url": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-orders-dlq",
            "visibility_timeout_seconds": 300
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "url": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-orders-dlq"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "data",
      "type": "archive_file",
      "name": "lambda_package",
      "provider": "provider[\"registry.terraform.io/hashicorp/archive\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "exclude_symlink_directories": null,
            "excludes": null,
            "id": "2077296a97d8ea054f2893d497526d6ccb9e04b8",
            "output_base64sha256": "CUz+2zhj7P5zfz/+g1wJ0ypWFf5SQTR7PVp+CjOfkRQ=",
            "output_base64sha512": "ioklVllbR5Nw1zTS54my6pW0LD+IT7OTFEsHjT+WxA69D/hcdZBr86BPdbu7uArJA806sFT0IslW7ABDyBklJA==",
            "output_file_mode": null,
            "output_md5": "d871e04e016176c1e44a676a8ed07851",
            "output_path": "modules/kinesis_event_flow/.terraform/tmp/dev-payments-lambda.zip",
            "output_sha": "2077296a97d8ea054f2893d497526d6ccb9e04b8",
            "output_sha256": "094cfedb3863ecfe737f3ffe835c09d32a5615fe5241347b3d5a7e0a339f9114",
            "output_sha512": "8a892556595b479370d734d2e789b2ea95b42c3f884fb393144b078d3f96c40ebd0ff85c75906bf3a04f75bbbbb80ac903cd3ab054f422c956ec0043c8192524",
            "output_size": 2166,
            "source": [],
            "source_content": null,
            "source_content_filename": null,
            "source_dir": "./lambda/payments",
            "source_file": null,
            "type": "zip"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "lambda_logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-west-2:396724649279:log-group:/aws/lambda/dev-payments-processor",
            "deletion_protection_enabled": false,
            "id": "/aws/lambda/dev-payments-processor",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "/aws/lambda/dev-payments-processor",
            "name_prefix": "",
            "region": "us-west-2",
            "retention_in_days": 14,
            "skip_destroy": false,
            "tags": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "/aws/lambda/dev-payments-processor",
            "region": "us-west-2"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "iterator_age",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": null,
            "alarm_description": "Kinesis iterator age is too high - consumer is falling behind",
            "alarm_name": "dev-payments-iterator-age-high",
            "arn": "arn:aws:cloudwatch:us-west-2:396724649279:alarm:dev-payments-iterator-age-high",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "StreamName": "dev-payments-stream"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 2,
            "extended_statistic": "",
            "id": "dev-payments-iterator-age-high",
            "insufficient_data_actions": null,
            "metric_name": "GetRecords.IteratorAgeMilliseconds",
            "metric_query": [],
            "namespace": "AWS/Kinesis",
            "ok_actions": null,
            "period": 300,
            "region": "us-west-2",
            "statistic": "Maximum",
            "tags": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "threshold": 60000,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "alarm_name": "dev-payments-iterator-age-high",
            "region": "us-west-2"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "lambda_errors",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": null,
            "alarm_description": "Lambda function error rate is elevated",
            "alarm_name": "dev-payments-lambda-errors",
            "arn": "arn:aws:cloudwatch:us-west-2:396724649279:alarm:dev-payments-lambda-errors",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "FunctionName": "dev-payments-processor"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 1,
            "extended_statistic": "",
            "id": "dev-payments-lambda-errors",
            "insufficient_data_actions": null,
            "metric_name": "Errors",
            "metric_query": [],
            "namespace": "AWS/Lambda",
            "ok_actions": null,
            "period": 300,
            "region": "us-west-2",
            "statistic": "Sum",
            "tags": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "threshold": 5,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "alarm_name": "dev-payments-lambda-errors",
            "region": "us-west-2"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.payment_events.aws_cloudwatch_log_group.lambda_logs",
            "module.payment_events.aws_iam_policy.kinesis_access",
            "module.payment_events.aws_iam_role.lambda_execution",
            "module.payment_events.aws_iam_role_policy_attachment.lambda_basic_execution",
            "module.payment_events.aws_iam_role_policy_attachment.lambda_kinesis_access",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_lambda_function.processor",
            "module.payment_events.aws_sqs_queue.dlq",
            "module.payment_events.data.archive_file.lambda_package"
          ]
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "dlq_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:policy/dev-payments-dlq-access",
            "attachment_count": 0,
            "description": "Allow Lambda to write to DLQ",
            "id": "arn:aws:iam::396724649279:policy/dev-payments-dlq-access",
            "name": "dev-payments-dlq-access",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:us-west-2:396724649279:dev-payments-dlq\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVYXVBXU7S3IA2OC2H",
            "tags": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::396724649279:policy/dev-payments-dlq-access"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.payment_events.aws_sqs_queue.dlq"
          ]
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "kinesis_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:policy/dev-payments-kinesis-access",
            "attachment_count": 0,
            "description": "Allow Lambda to read from Kinesis stream",
            "id": "arn:aws:iam::396724649279:policy/dev-payments-kinesis-access",
            "name": "dev-payments-kinesis-access",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"kinesis:GetRecords\",\"kinesis:GetShardIterator\",\"kinesis:DescribeStream\",\"kinesis:DescribeStreamSummary\",\"kinesis:ListShards\",\"kinesis:ListStreams\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kinesis:us-west-2:396724649279:stream/dev-payments-stream\"},{\"Action\":[\"kms:Decrypt\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kms:us-west-2:396724649279:key/0ec884b5-b42e-48d3-a8af-d2b1cc25237d\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVYXVBXU7VG3EACVBV",
            "tags": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::396724649279:policy/dev-payments-kinesis-access"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:role/dev-payments-lambda-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-12-25T00:53:02Z",
            "description": "",
            "force_detach_policies": false,
            "id": "dev-payments-lambda-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "dev-payments-lambda-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "unique_id": "AROAVYXVBXU76QGO52WZC"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "dev-payments-lambda-role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_basic_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "dev-payments-lambda-role/arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "dev-payments-lambda-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "dev-payments-lambda-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.payment_events.aws_iam_role.lambda_execution"
          ]
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_dlq_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "dev-payments-lambda-role/arn:aws:iam::396724649279:policy/dev-payments-dlq-access",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-payments-dlq-access",
            "role": "dev-payments-lambda-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-payments-dlq-access",
            "role": "dev-payments-lambda-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.payment_events.aws_iam_policy.dlq_access",
            "module.payment_events.aws_iam_role.lambda_execution",
            "module.payment_events.aws_sqs_queue.dlq"
          ]
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_kinesis_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "dev-payments-lambda-role/arn:aws:iam::396724649279:policy/dev-payments-kinesis-access",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-payments-kinesis-access",
            "role": "dev-payments-lambda-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-payments-kinesis-access",
            "role": "dev-payments-lambda-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.payment_events.aws_iam_policy.kinesis_access",
            "module.payment_events.aws_iam_role.lambda_execution",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_kinesis_stream",
      "name": "events",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-payments-stream",
            "encryption_type": "KMS",
            "enforce_consumer_deletion": false,
            "id": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-payments-stream",
            "kms_key_id": "arn:aws:kms:us-west-2:396724649279:key/0ec884b5-b42e-48d3-a8af-d2b1cc25237d",
            "max_record_size_in_kib": 1024,
            "name": "dev-payments-stream",
            "region": "us-west-2",
            "retention_period": 168,
            "shard_count": 2,
            "shard_level_metrics": [
              "IncomingBytes",
              "IncomingRecords",
              "IteratorAgeMilliseconds",
              "OutgoingBytes",
              "OutgoingRecords",
              "ReadProvisionedThroughputExceeded",
              "WriteProvisionedThroughputExceeded"
            ],
            "stream_mode_details": [
              {
                "stream_mode": "PROVISIONED"
              }
            ],
            "tags": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6NzIwMDAwMDAwMDAwMCwidXBkYXRlIjo3MjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.payment_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "stream_encryption",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-west-2:396724649279:alias/dev-payments-kinesis",
            "id": "alias/dev-payments-kinesis",
            "name": "alias/dev-payments-kinesis",
            "name_prefix": "",
            "region": "us-west-2",
            "target_key_arn": "arn:aws:kms:us-west-2:396724649279:key/0ec884b5-b42e-48d3-a8af-d2b1cc25237d",
            "target_key_id": "0ec884b5-b42e-48d3-a8af-d2b1cc25237d"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "alias/dev-payments-kinesis",
            "region": "us-west-2"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.payment_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "stream_encryption",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-west-2:396724649279:key/0ec884b5-b42e-48d3-a8af-d2b1cc25237d",
            "bypass_policy_lockout_safety_check": false,
            "custom_key_store_id": "",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": 7,
            "description": "KMS key for dev-payments Kinesis stream encryption",
            "enable_key_rotation": true,
            "id": "0ec884b5-b42e-48d3-a8af-d2b1cc25237d",
            "is_enabled": true,
            "key_id": "0ec884b5-b42e-48d3-a8af-d2b1cc25237d",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "policy": "{\"Id\":\"key-default-1\",\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::396724649279:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"}],\"Version\":\"2012-10-17\"}",
            "region": "us-west-2",
            "rotation_period_in_days": 365,
            "tags": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "timeouts": null,
            "xks_key_id": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "id": "0ec884b5-b42e-48d3-a8af-d2b1cc25237d",
            "region": "us-west-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDB9fQ==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_lambda_event_source_mapping",
      "name": "kinesis_trigger",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "amazon_managed_kafka_event_source_config": [],
            "arn": "arn:aws:lambda:us-west-2:396724649279:event-source-mapping:a07ed978-2945-4796-8c61-a90983279d57",
            "batch_size": 25,
            "bisect_batch_on_function_error": true,
            "destination_config": [
              {
                "on_failure": [
                  {
                    "destination_arn": "arn:aws:sqs:us-west-2:396724649279:dev-payments-dlq"
                  }
                ]
              }
            ],
            "document_db_event_source_config": [],
            "enabled": true,
            "event_source_arn": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-payments-stream",
            "filter_criteria": [],
            "function_arn": "arn:aws:lambda:us-west-2:396724649279:function:dev-payments-processor",
            "function_name": "arn:aws:lambda:us-west-2:396724649279:function:dev-payments-processor",
            "function_response_types": null,
            "id": "a07ed978-2945-4796-8c61-a90983279d57",
            "kms_key_arn": "",
            "last_modified": "2025-12-25T00:54:00Z",
            "last_processing_result": "No records processed",
            "maximum_batching_window_in_seconds": 1,
            "maximum_record_age_in_seconds": 14400,
            "maximum_retry_attempts": 10,
            "metrics_config": [],
            "parallelization_factor": 1,
            "provisioned_poller_config": [],
            "queues": null,
            "region": "us-west-2",
            "scaling_config": [],
            "self_managed_event_source": [],
            "self_managed_kafka_event_source_config": [],
            "source_access_configuration": [],
            "starting_position": "LATEST",
            "starting_position_timestamp": "",
            "state": "Enabled",
            "state_transition_reason": "User action",
            "tags": null,
            "tags_all": {
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Project": "kinesis-event-ingestion"
            },
            "topics": null,
            "tumbling_window_in_seconds": 0,
            "uuid": "a07ed978-2945-4796-8c61-a90983279d57"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.payment_events.aws_cloudwatch_log_group.lambda_logs",
            "module.payment_events.aws_iam_policy.kinesis_access",
            "module.payment_events.aws_iam_role.lambda_execution",
            "module.payment_events.aws_iam_role_policy_attachment.lambda_basic_execution",
            "module.payment_events.aws_iam_role_policy_attachment.lambda_kinesis_access",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_lambda_function.processor",
            "module.payment_events.aws_sqs_queue.dlq",
            "module.payment_events.data.archive_file.lambda_package"
          ]
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "processor",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-west-2:396724649279:function:dev-payments-processor",
            "capacity_provider_config": [],
            "code_sha256": "CUz+2zhj7P5zfz/+g1wJ0ypWFf5SQTR7PVp+CjOfkRQ=",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "",
            "durable_config": [],
            "environment": [
              {
                "variables": {
                  "DLQ_URL": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-payments-dlq",
                  "ENVIRONMENT": "dev",
                  "EVENT_TYPE": "payments",
                  "LOG_LEVEL": "DEBUG",
                  "STREAM_NAME": "dev-payments-stream"
                }
              }
            ],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "modules/kinesis_event_flow/.terraform/tmp/dev-payments-lambda.zip",
            "function_name": "dev-payments-processor",
            "handler": "handler.process_event",
            "id": "dev-payments-processor",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:396724649279:function:dev-payments-processor/invocations",
            "kms_key_arn": "",
            "last_modified": "2025-12-25T00:53:56.070+0000",
            "layers": null,
            "logging_config": [
              {
                "application_log_level": "",
                "log_format": "Text",
                "log_group": "/aws/lambda/dev-payments-processor",
                "system_log_level": ""
              }
            ],
            "memory_size": 512,
            "package_type": "Zip",
            "publish": false,
            "publish_to": null,
            "qualified_arn": "arn:aws:lambda:us-west-2:396724649279:function:dev-payments-processor:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:396724649279:function:dev-payments-processor:$LATEST/invocations",
            "region": "us-west-2",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::396724649279:role/dev-payments-lambda-role",
            "runtime": "python3.11",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "skip_destroy": false,
            "snap_start": [],
            "source_code_hash": "CUz+2zhj7P5zfz/+g1wJ0ypWFf5SQTR7PVp+CjOfkRQ=",
            "source_code_size": 2166,
            "source_kms_key_arn": "",
            "tags": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "tenancy_config": [],
            "timeout": 30,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "function_name": "dev-payments-processor",
            "region": "us-west-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.payment_events.aws_cloudwatch_log_group.lambda_logs",
            "module.payment_events.aws_iam_policy.kinesis_access",
            "module.payment_events.aws_iam_role.lambda_execution",
            "module.payment_events.aws_iam_role_policy_attachment.lambda_basic_execution",
            "module.payment_events.aws_iam_role_policy_attachment.lambda_kinesis_access",
            "module.payment_events.aws_kinesis_stream.events",
            "module.payment_events.aws_kms_key.stream_encryption",
            "module.payment_events.aws_sqs_queue.dlq",
            "module.payment_events.data.archive_file.lambda_package"
          ]
        }
      ]
    },
    {
      "module": "module.payment_events",
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "dlq",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:sqs:us-west-2:396724649279:dev-payments-dlq",
            "content_based_deduplication": false,
            "deduplication_scope": "",
            "delay_seconds": 0,
            "fifo_queue": false,
            "fifo_throughput_limit": "",
            "id": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-payments-dlq",
            "kms_data_key_reuse_period_seconds": 300,
            "kms_master_key_id": "",
            "max_message_size": 262144,
            "message_retention_seconds": 1209600,
            "name": "dev-payments-dlq",
            "name_prefix": "",
            "policy": "",
            "receive_wait_time_seconds": 0,
            "redrive_allow_policy": "",
            "redrive_policy": "",
            "region": "us-west-2",
            "sqs_managed_sse_enabled": true,
            "tags": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Compliance": "PCI-DSS",
              "Environment": "dev",
              "EventFamily": "finance",
              "EventType": "payments",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "timeouts": null,
            "url": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-payments-dlq",
            "visibility_timeout_seconds": 300
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "url": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-payments-dlq"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "data",
      "type": "archive_file",
      "name": "lambda_package",
      "provider": "provider[\"registry.terraform.io/hashicorp/archive\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "exclude_symlink_directories": null,
            "excludes": null,
            "id": "73b3d4a0663b371358519e2de0a6eb068db94a90",
            "output_base64sha256": "dckS9vHbheI+fG8SoUHWG2pBLnTNWdk8Bvds1pZD0sA=",
            "output_base64sha512": "t1K2/835tQDTwa0OWX+f/kopGsBBME2NQRecrOFUQXmrj4Nqytge11+BqguNulR3/0tmNONViv962inshZcx3g==",
            "output_file_mode": null,
            "output_md5": "8ce1072d27ec51db29b8492cfce85970",
            "output_path": "modules/kinesis_event_flow/.terraform/tmp/dev-user_activity-lambda.zip",
            "output_sha": "73b3d4a0663b371358519e2de0a6eb068db94a90",
            "output_sha256": "75c912f6f1db85e23e7c6f12a141d61b6a412e74cd59d93c06f76cd69643d2c0",
            "output_sha512": "b752b6ffcdf9b500d3c1ad0e597f9ffe4a291ac041304d8d41179cace1544179ab8f836acad81ed75f81aa0b8dba5477ff4b6634e3558aff7ada29ec859731de",
            "output_size": 1320,
            "source": [],
            "source_content": null,
            "source_content_filename": null,
            "source_dir": "./lambda/user_activity",
            "source_file": null,
            "type": "zip"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "lambda_logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-west-2:396724649279:log-group:/aws/lambda/dev-user_activity-processor",
            "deletion_protection_enabled": false,
            "id": "/aws/lambda/dev-user_activity-processor",
            "kms_key_id": "",
            "log_group_class": "STANDARD",
            "name": "/aws/lambda/dev-user_activity-processor",
            "name_prefix": "",
            "region": "us-west-2",
            "retention_in_days": 14,
            "skip_destroy": false,
            "tags": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "/aws/lambda/dev-user_activity-processor",
            "region": "us-west-2"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "iterator_age",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": null,
            "alarm_description": "Kinesis iterator age is too high - consumer is falling behind",
            "alarm_name": "dev-user_activity-iterator-age-high",
            "arn": "arn:aws:cloudwatch:us-west-2:396724649279:alarm:dev-user_activity-iterator-age-high",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "StreamName": "dev-user_activity-stream"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 2,
            "extended_statistic": "",
            "id": "dev-user_activity-iterator-age-high",
            "insufficient_data_actions": null,
            "metric_name": "GetRecords.IteratorAgeMilliseconds",
            "metric_query": [],
            "namespace": "AWS/Kinesis",
            "ok_actions": null,
            "period": 300,
            "region": "us-west-2",
            "statistic": "Maximum",
            "tags": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "threshold": 60000,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "alarm_name": "dev-user_activity-iterator-age-high",
            "region": "us-west-2"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "lambda_errors",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": null,
            "alarm_description": "Lambda function error rate is elevated",
            "alarm_name": "dev-user_activity-lambda-errors",
            "arn": "arn:aws:cloudwatch:us-west-2:396724649279:alarm:dev-user_activity-lambda-errors",
            "comparison_operator": "GreaterThanThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "FunctionName": "dev-user_activity-processor"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 1,
            "extended_statistic": "",
            "id": "dev-user_activity-lambda-errors",
            "insufficient_data_actions": null,
            "metric_name": "Errors",
            "metric_query": [],
            "namespace": "AWS/Lambda",
            "ok_actions": null,
            "period": 300,
            "region": "us-west-2",
            "statistic": "Sum",
            "tags": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "threshold": 5,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "alarm_name": "dev-user_activity-lambda-errors",
            "region": "us-west-2"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.user_activity_events.aws_cloudwatch_log_group.lambda_logs",
            "module.user_activity_events.aws_iam_policy.kinesis_access",
            "module.user_activity_events.aws_iam_role.lambda_execution",
            "module.user_activity_events.aws_iam_role_policy_attachment.lambda_basic_execution",
            "module.user_activity_events.aws_iam_role_policy_attachment.lambda_kinesis_access",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_lambda_function.processor",
            "module.user_activity_events.aws_sqs_queue.dlq",
            "module.user_activity_events.data.archive_file.lambda_package"
          ]
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "dlq_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:policy/dev-user_activity-dlq-access",
            "attachment_count": 0,
            "description": "Allow Lambda to write to DLQ",
            "id": "arn:aws:iam::396724649279:policy/dev-user_activity-dlq-access",
            "name": "dev-user_activity-dlq-access",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"sqs:SendMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:us-west-2:396724649279:dev-user_activity-dlq\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVYXVBXU75S2HYK3GS",
            "tags": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::396724649279:policy/dev-user_activity-dlq-access"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.user_activity_events.aws_sqs_queue.dlq"
          ]
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "kinesis_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:policy/dev-user_activity-kinesis-access",
            "attachment_count": 0,
            "description": "Allow Lambda to read from Kinesis stream",
            "id": "arn:aws:iam::396724649279:policy/dev-user_activity-kinesis-access",
            "name": "dev-user_activity-kinesis-access",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"kinesis:GetRecords\",\"kinesis:GetShardIterator\",\"kinesis:DescribeStream\",\"kinesis:DescribeStreamSummary\",\"kinesis:ListShards\",\"kinesis:ListStreams\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kinesis:us-west-2:396724649279:stream/dev-user_activity-stream\"},{\"Action\":[\"kms:Decrypt\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kms:us-west-2:396724649279:key/f39b1977-7d2e-4728-b0f1-59c99e9b4a1f\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVYXVBXU7VKHXSH7YF",
            "tags": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "arn": "arn:aws:iam::396724649279:policy/dev-user_activity-kinesis-access"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::396724649279:role/dev-user_activity-lambda-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2025-12-25T00:53:02Z",
            "description": "",
            "force_detach_policies": false,
            "id": "dev-user_activity-lambda-role",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "dev-user_activity-lambda-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": "",
            "tags": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "unique_id": "AROAVYXVBXU754KS6KPGU"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "dev-user_activity-lambda-role"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_basic_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "dev-user_activity-lambda-role/arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "dev-user_activity-lambda-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "dev-user_activity-lambda-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.user_activity_events.aws_iam_role.lambda_execution"
          ]
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_dlq_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "dev-user_activity-lambda-role/arn:aws:iam::396724649279:policy/dev-user_activity-dlq-access",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-user_activity-dlq-access",
            "role": "dev-user_activity-lambda-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-user_activity-dlq-access",
            "role": "dev-user_activity-lambda-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.user_activity_events.aws_iam_policy.dlq_access",
            "module.user_activity_events.aws_iam_role.lambda_execution",
            "module.user_activity_events.aws_sqs_queue.dlq"
          ]
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "lambda_kinesis_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "dev-user_activity-lambda-role/arn:aws:iam::396724649279:policy/dev-user_activity-kinesis-access",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-user_activity-kinesis-access",
            "role": "dev-user_activity-lambda-role"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "policy_arn": "arn:aws:iam::396724649279:policy/dev-user_activity-kinesis-access",
            "role": "dev-user_activity-lambda-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.user_activity_events.aws_iam_policy.kinesis_access",
            "module.user_activity_events.aws_iam_role.lambda_execution",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_kinesis_stream",
      "name": "events",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-user_activity-stream",
            "encryption_type": "KMS",
            "enforce_consumer_deletion": false,
            "id": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-user_activity-stream",
            "kms_key_id": "arn:aws:kms:us-west-2:396724649279:key/f39b1977-7d2e-4728-b0f1-59c99e9b4a1f",
            "max_record_size_in_kib": 1024,
            "name": "dev-user_activity-stream",
            "region": "us-west-2",
            "retention_period": 24,
            "shard_count": 1,
            "shard_level_metrics": null,
            "stream_mode_details": [
              {
                "stream_mode": "PROVISIONED"
              }
            ],
            "tags": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6NzIwMDAwMDAwMDAwMCwidXBkYXRlIjo3MjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ],
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "stream_encryption",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-west-2:396724649279:alias/dev-user_activity-kinesis",
            "id": "alias/dev-user_activity-kinesis",
            "name": "alias/dev-user_activity-kinesis",
            "name_prefix": "",
            "region": "us-west-2",
            "target_key_arn": "arn:aws:kms:us-west-2:396724649279:key/f39b1977-7d2e-4728-b0f1-59c99e9b4a1f",
            "target_key_id": "f39b1977-7d2e-4728-b0f1-59c99e9b4a1f"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "name": "alias/dev-user_activity-kinesis",
            "region": "us-west-2"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.user_activity_events.aws_kms_key.stream_encryption"
          ]
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "stream_encryption",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-west-2:396724649279:key/f39b1977-7d2e-4728-b0f1-59c99e9b4a1f",
            "bypass_policy_lockout_safety_check": false,
            "custom_key_store_id": "",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": 7,
            "description": "KMS key for dev-user_activity Kinesis stream encryption",
            "enable_key_rotation": true,
            "id": "f39b1977-7d2e-4728-b0f1-59c99e9b4a1f",
            "is_enabled": true,
            "key_id": "f39b1977-7d2e-4728-b0f1-59c99e9b4a1f",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "policy": "{\"Id\":\"key-default-1\",\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::396724649279:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"}],\"Version\":\"2012-10-17\"}",
            "region": "us-west-2",
            "rotation_period_in_days": 365,
            "tags": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "timeouts": null,
            "xks_key_id": ""
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "id": "f39b1977-7d2e-4728-b0f1-59c99e9b4a1f",
            "region": "us-west-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDB9fQ==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_lambda_event_source_mapping",
      "name": "kinesis_trigger",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "amazon_managed_kafka_event_source_config": [],
            "arn": "arn:aws:lambda:us-west-2:396724649279:event-source-mapping:2c70e9bd-eadd-4860-b0b9-5e850c5f4c10",
            "batch_size": 100,
            "bisect_batch_on_function_error": true,
            "destination_config": [
              {
                "on_failure": [
                  {
                    "destination_arn": "arn:aws:sqs:us-west-2:396724649279:dev-user_activity-dlq"
                  }
                ]
              }
            ],
            "document_db_event_source_config": [],
            "enabled": true,
            "event_source_arn": "arn:aws:kinesis:us-west-2:396724649279:stream/dev-user_activity-stream",
            "filter_criteria": [],
            "function_arn": "arn:aws:lambda:us-west-2:396724649279:function:dev-user_activity-processor",
            "function_name": "arn:aws:lambda:us-west-2:396724649279:function:dev-user_activity-processor",
            "function_response_types": null,
            "id": "2c70e9bd-eadd-4860-b0b9-5e850c5f4c10",
            "kms_key_arn": "",
            "last_modified": "2025-12-25T00:53:00Z",
            "last_processing_result": "No records processed",
            "maximum_batching_window_in_seconds": 5,
            "maximum_record_age_in_seconds": 3600,
            "maximum_retry_attempts": 3,
            "metrics_config": [],
            "parallelization_factor": 1,
            "provisioned_poller_config": [],
            "queues": null,
            "region": "us-west-2",
            "scaling_config": [],
            "self_managed_event_source": [],
            "self_managed_kafka_event_source_config": [],
            "source_access_configuration": [],
            "starting_position": "LATEST",
            "starting_position_timestamp": "",
            "state": "Enabled",
            "state_transition_reason": "User action",
            "tags": null,
            "tags_all": {
              "Environment": "dev",
              "ManagedBy": "terraform",
              "Project": "kinesis-event-ingestion"
            },
            "topics": null,
            "tumbling_window_in_seconds": 0,
            "uuid": "2c70e9bd-eadd-4860-b0b9-5e850c5f4c10"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.user_activity_events.aws_cloudwatch_log_group.lambda_logs",
            "module.user_activity_events.aws_iam_policy.kinesis_access",
            "module.user_activity_events.aws_iam_role.lambda_execution",
            "module.user_activity_events.aws_iam_role_policy_attachment.lambda_basic_execution",
            "module.user_activity_events.aws_iam_role_policy_attachment.lambda_kinesis_access",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_lambda_function.processor",
            "module.user_activity_events.aws_sqs_queue.dlq",
            "module.user_activity_events.data.archive_file.lambda_package"
          ]
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "processor",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-west-2:396724649279:function:dev-user_activity-processor",
            "capacity_provider_config": [],
            "code_sha256": "dckS9vHbheI+fG8SoUHWG2pBLnTNWdk8Bvds1pZD0sA=",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "",
            "durable_config": [],
            "environment": [
              {
                "variables": {
                  "DLQ_URL": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-user_activity-dlq",
                  "ENVIRONMENT": "dev",
                  "EVENT_TYPE": "user_activity",
                  "LOG_LEVEL": "INFO",
                  "STREAM_NAME": "dev-user_activity-stream"
                }
              }
            ],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": "modules/kinesis_event_flow/.terraform/tmp/dev-user_activity-lambda.zip",
            "function_name": "dev-user_activity-processor",
            "handler": "handler.process_event",
            "id": "dev-user_activity-processor",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:396724649279:function:dev-user_activity-processor/invocations",
            "kms_key_arn": "",
            "last_modified": "2025-12-25T00:53:44.084+0000",
            "layers": null,
            "logging_config": [
              {
                "application_log_level": "",
                "log_format": "Text",
                "log_group": "/aws/lambda/dev-user_activity-processor",
                "system_log_level": ""
              }
            ],
            "memory_size": 256,
            "package_type": "Zip",
            "publish": false,
            "publish_to": null,
            "qualified_arn": "arn:aws:lambda:us-west-2:396724649279:function:dev-user_activity-processor:$LATEST",
            "qualified_invoke_arn": "arn:aws:apigateway:us-west-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-2:396724649279:function:dev-user_activity-processor:$LATEST/invocations",
            "region": "us-west-2",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::396724649279:role/dev-user_activity-lambda-role",
            "runtime": "python3.11",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "skip_destroy": false,
            "snap_start": [],
            "source_code_hash": "dckS9vHbheI+fG8SoUHWG2pBLnTNWdk8Bvds1pZD0sA=",
            "source_code_size": 1320,
            "source_kms_key_arn": "",
            "tags": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "tenancy_config": [],
            "timeout": 30,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "$LATEST",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "account_id": "396724649279",
            "function_name": "dev-user_activity-processor",
            "region": "us-west-2"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.user_activity_events.aws_cloudwatch_log_group.lambda_logs",
            "module.user_activity_events.aws_iam_policy.kinesis_access",
            "module.user_activity_events.aws_iam_role.lambda_execution",
            "module.user_activity_events.aws_iam_role_policy_attachment.lambda_basic_execution",
            "module.user_activity_events.aws_iam_role_policy_attachment.lambda_kinesis_access",
            "module.user_activity_events.aws_kinesis_stream.events",
            "module.user_activity_events.aws_kms_key.stream_encryption",
            "module.user_activity_events.aws_sqs_queue.dlq",
            "module.user_activity_events.data.archive_file.lambda_package"
          ]
        }
      ]
    },
    {
      "module": "module.user_activity_events",
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "dlq",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:sqs:us-west-2:396724649279:dev-user_activity-dlq",
            "content_based_deduplication": false,
            "deduplication_scope": "",
            "delay_seconds": 0,
            "fifo_queue": false,
            "fifo_throughput_limit": "",
            "id": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-user_activity-dlq",
            "kms_data_key_reuse_period_seconds": 300,
            "kms_master_key_id": "",
            "max_message_size": 262144,
            "message_retention_seconds": 1209600,
            "name": "dev-user_activity-dlq",
            "name_prefix": "",
            "policy": "",
            "receive_wait_time_seconds": 0,
            "redrive_allow_policy": "",
            "redrive_policy": "",
            "region": "us-west-2",
            "sqs_managed_sse_enabled": true,
            "tags": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow"
            },
            "tags_all": {
              "Environment": "dev",
              "EventFamily": "user",
              "EventType": "user_activity",
              "ManagedBy": "terraform",
              "Module": "kinesis_event_flow",
              "Project": "kinesis-event-ingestion"
            },
            "timeouts": null,
            "url": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-user_activity-dlq",
            "visibility_timeout_seconds": 300
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "url": "https://sqs.us-west-2.amazonaws.com/396724649279/dev-user_activity-dlq"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19"
        }
      ]
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "module.payment_events.var.starting_position",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.payment_events.var.starting_position",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.order_events.var.event_type",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.order_events.var.event_type",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.payment_events.var.retention_period",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.payment_events.var.retention_period",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.payment_events.var.parallelization_factor",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.payment_events.var.parallelization_factor",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.user_activity_events.var.parallelization_factor",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.user_activity_events.var.parallelization_factor",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.order_events.var.retention_period",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.order_events.var.retention_period",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.order_events.var.starting_position",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.order_events.var.starting_position",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.user_activity_events.var.event_type",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.user_activity_events.var.event_type",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.user_activity_events.var.starting_position",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.user_activity_events.var.starting_position",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.user_activity_events.var.retention_period",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.user_activity_events.var.retention_period",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.order_events.var.parallelization_factor",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.order_events.var.parallelization_factor",
          "status": "pass"
        }
      ]
    },
    {
      "object_kind": "var",
      "config_addr": "module.payment_events.var.event_type",
      "status": "pass",
      "objects": [
        {
          "object_addr": "module.payment_events.var.event_type",
          "status": "pass"
        }
      ]
    }
  ]
}
